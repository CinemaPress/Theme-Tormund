var isMobile = !1;
(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4))) && (isMobile = !0);
var router = new Navigo($("#router").data("homepage"), !1, "#!"), moreRequest = {};

function addChat() {
}

function goLetter(t) {
    return $("html,body").animate({scrollTop: $("#go-" + t).offset().top}, "fast"), !1
}

function checkepisodesofthisSeason(t) {
    var e = t.data("tab"), a = $(".fnc_allofthisSeason input");
    $(".tab[data-tab=" + e + "] .fnc_addWatch input:checked").length == $(".tab[data-tab=" + e + "] .fnc_addWatch input").length ? a.prop("checked", !0) : a.prop("checked", !1)
}

function arrayCompare(t, e) {
    if (t.length != e.length) return !1;
    for (var a = e.length, o = 0; o < a; o++) if (t[o] !== e[o]) return !1;
    return !0
}

function inArray(t, e) {
    for (var a = e.length, o = 0; o < a; o++) if ("object" == typeof e[o]) {
        if (arrayCompare(e[o], t)) return !0
    } else if (e[o] == t) return !0;
    return !1
}

function getInputSelection(t) {
    return void 0 !== t ? (s = t[0].selectionStart, e = t[0].selectionEnd, t.val().substring(s, e)) : ""
}

function toggleFullScreen(t) {
    t = document.querySelector(t);
    document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement ? (console.log("çık"), document.cancelFullScreen ? document.cancelFullScreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitCancelFullScreen && document.webkitCancelFullScreen()) : (t.requestFullscreen ? t.requestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullscreen && t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT), console.log("gir"))
}

function scalePages(t, e, a) {
    var o, i;
    o = e > t.outerWidth(!0) ? 1 : e / (t.outerWidth(!0) + 15), i = a > t.outerHeight(!0) ? 1 : a / (t.outerHeight(!0) + 15), scale = o > i ? i : o, scale < 1 && ($(".rek-by").hide(), $(".rek-gecilecek").hide())
}

function publishUserTyping(t) {
    return $.post("/ajax/service", {type: "publishUserTyping", username: t, room: $("#r_id").val()})
}

function $id(t) {
    return document.getElementById(t)
}

window.currentRequest = !1, window.currentSearch = !1, jQuery.loadScript = function (t, e) {
    jQuery.ajax({url: t, dataType: "script", success: e, async: !0})
}, function (t) {
    var e = t({});
    t.ajaxQueue = function (a) {
        var o = a.complete;
        e.queue(function (e) {
            a.complete = function () {
                o && o.apply(this, arguments), e()
            }, t.ajax(a)
        })
    }
}(jQuery), function () {
    "use strict";
    $("#h_user_data").length;
    var t = t || {};
    t.init = function () {
        t.UIEvents(), t.FormEvents(), t.WidgetEvents(), t.BaseEvents();
        var e = 0;
        /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && (e = 1), $(window).scroll(function () {
            $(this).scrollTop() > 100 ? $(".yukariCik").css("display", "block") : $(".yukariCik").css("display", "none")
        }), $(".yukariCik").mouseover(function () {
            $(this).find("span.yukariYazi").stop(1).animate({width: "70px"})
        }).mouseout(function () {
            $(this).find("span.yukariYazi").stop(1).delay(200).animate({width: 0})
        }).click(function () {
            $("html, body").animate({scrollTop: 0}, "slow")
        })
    }, t.UIEvents = function () {
        var t = new LazyLoad({elements_selector: ".lazy-wide"});
        if ($().dropdown && $(".ui.dropdown").dropdown(), $().checkbox && $(".ui.checkbox").checkbox(), $().sticky && $(".ui.sticky").sticky({context: "#context"}), $(".ydslider").length && $(".ydslider").slick({
            prevArrow: '<div class="slickprev" tabindex="0" role="button" aria-label="Next slide" aria-disabled="false"></div>',
            nextArrow: '<div class="slicknext" tabindex="0" role="button" aria-label="Next slide" aria-disabled="false"></div>',
            dots: !0,
            infinite: !0,
            speed: 500,
            lazyLoad: "ondemand",
            slidesToShow: 4,
            slidesToScroll: 3,
            variableWidth: !0,
            autoplay: !0,
            autoplaySpeed: 3e3,
            responsive: [{
                breakpoint: 1024,
                settings: {slidesToShow: 3, slidesToScroll: 2, infinite: !0, dots: !0, lazyLoad: "ondemand"}
            }, {
                breakpoint: 600,
                settings: {slidesToShow: 2, slidesToScroll: 1, infinite: !0, dots: !0, lazyLoad: "ondemand"}
            }]
        }), $().modal && $("body").off("click", ".media-trailer").on("click", ".media-trailer", function (t) {
            t.preventDefault();
            var e = $(this).data("yt");
            $(".ui.modal iframe").attr("src", "https://www.youtube.com/embed/" + e), $("#fragman.ui.modal").modal({
                onHide: function () {
                    $(".ui.modal iframe").attr("src", "")
                }
            }).modal("show")
        }), $("body").off("click", ".watched-episodes-more-link").on("click", ".watched-episodes-more-link", function (t) {
            if (!moreRequest.more) {
                moreRequest.more = !0;
                var e = $(this), a = e.data("sid"), o = e.data("uid"), i = e.data("eid");
                "cat-tags" != e.parent().attr("class") && ($("span.watched-episodes-more-link").removeClass("teal").removeClass("grey").addClass("grey"), e.addClass("teal").removeClass("grey")), $(".watched-episodes-" + a + "-" + i).length < 1 ? ($(".watched-episodes-more").removeClass("active"), $("#h_user_data").length > 0 ? (e.find(".icon").prop("class", "icon animate-spin icon-spinner"), false) : (e.prop("disabled", "disabled"), moreRequest.more = !1)) : ($(".watched-episodes-" + a + "-" + i).not(".active").length ? ($(".watched-episodes-more").stop(!0, !0).fadeOut("fast").removeClass("active"), $(".watched-episodes-" + a + "-" + i).fadeIn("fast"), $(".watched-episodes-" + a + "-" + i).addClass("active")) : "cat-tags" != e.parent().attr("class") && ($(".watched-episodes-more").stop(!0, !0).fadeOut("fast").removeClass("active"), $("span.watched-episodes-more-link").removeClass("teal").addClass("grey")), moreRequest.more = !1)
            }
            return t.preventDefault, !1
        }), $("body").off("click", "[data-ytid]").on("click", "[data-ytid]", function (t) {
            t.preventDefault();
            var e = $(this).data("ytid");
            $(".this-episode-not-ready > div").remove(), $("#fragman-now").remove(), $("#fragman-now-youtube").attr("src", "https://www.youtube.com/embed/" + e + "?autoplay=1&rel=0")
        }), $().tab && ($("#series-tabs .item").tab(), $(".tabular.menu .item").tab()), $().fitVids && $("body").fitVids(), $("body").on("click", "[data-modal]", function (t) {
            t.preventDefault();
            var e = $(this).data("modal");
            $("#" + e + ".modal").modal("show")
        }), $("body").off("click", "[data-report]").on("click", "[data-report]", function (t) {
            t.preventDefault();
            var e = $(this).data("report"), a = $(this).data("report-type");
            $(".comment-item").css({backgroundColor: "transparent"}), "comment" == a && $("#comment_" + e).css({backgroundColor: "#4a1f1d"}), $('#modal-report-user [name="episode"]:checked').prop("checked", !1), $('#modal-report-user [name="comment"]:checked').prop("checked", !1), $('#modal-report-user [name="report-reason"]').val(""), $('#modal-report-user [name="report_type"]').val(a), $('#modal-report-user [name="reporting_id"]').val(e), $("#modal-report-user [data-report-type]").hide(), $("#modal-report-user [data-report-type=" + a).show(), $("#modal-report-user.modal").modal("show")
        }), $("body").off("click", ".collection-delete").on("click", ".collection-delete", function (t) {
            t.preventDefault();
            var e = $(this).data("id");
        }), $("body").off("submit", "#reportThis").on("submit", "#reportThis", function (t) {
            t.preventDefault();
            var e = $('[name="report_type"]', this).val(), a = $('[name="episode"]:checked', this).val(),
                o = $('[name="reporting_id"]', this).val(), i = $('[name="comment"]:checked', this).val(),
                n = $('[name="report-reason"]', this).val();
            "comment" == e && $("#comment_" + o).css({backgroundColor: "transparent"}), ("comment" == e && i || "episode" == e && a) && false
        }), $("body").off("click", "[data-block]").on("click", "[data-block]", function (t) {
            t.preventDefault();
            var e = $(this).data("block"), a = window.location.pathname, o = $(this);
            o.hasClass("profile-block-modal") && $("#modal-block-user.modal").modal("hide"), e && false
        }), $("body").off("click", "[data-lango]").on("click", "[data-lango]", function (t) {
            t.preventDefault();
            var e = $(this), a = e.data("type"), o = e.data("eid");
            if (e.hasClass("active")) return !1;
            $("[data-lango]").removeClass("active"), e.addClass("active"), false
        }), $("body").off("click", "[data-unblock]").on("click", "[data-unblock]", function (t) {
            t.preventDefault();
            var e = $(this).data("unblock"), a = window.location.pathname, o = $(this);
            e && false
        }), $().emojioneArea) {
            $("#commentData").emojioneArea({
                container: "#commentData-container",
                hideSource: !0,
                autocomplete: !1,
                events: {
                    keypress: function (t, e) {
                        var a = $("#commentData").data("emojioneArea").disabled;
                        if (13 == e.which && !e.shiftKey) return e.preventDefault(), 1 != a && addComment(), !1
                    }, emojibtn_click: function (t, e) {
                        t.closest(".emojionearea").find(".emojionearea-button-close").click()
                    }
                }
            });
            var e = !0, a = !1;
            $("#messageData").emojioneArea({
                container: "#messageData-container",
                hideSource: !0,
                autocomplete: !1,
                events: {
                    keypress: function (t, o) {
                        var i = $("#messageData").data("emojioneArea").disabled;
                        if (13 == o.which && !o.shiftKey) return o.preventDefault(), 1 != i && addChat(), !1;
                        clearTimeout(a), a = window.setTimeout(function () {
                            e = !0, $(".user-typing").text("")
                        }, 2e3), e && (publishUserTyping($("#h_user_data").data("u_username")), e = !1, a = window.setTimeout(function () {
                            e = !0, $(".user-typing").text("")
                        }, 2e3))
                    }, emojibtn_click: function (t, e) {
                        t.closest(".emojionearea").find(".emojionearea-button-close").click()
                    }
                }
            })
        }
        if ($("#h_user_data").length > 0) {
            $("body").off("click", ".fnc_addComment").on("click", ".fnc_addChat", addChat), $("body").off("click", ".fnc_addComment").on("click", ".fnc_addComment", addComment), $("body").off("click", ".fnc_addFollow").on("click", ".fnc_addFollow", function (t) {
                var e = $(this), a = $(this).data("series"), o = $(this).data("status"), i = $(this).data("type");
                if (a && o) {
                    $(this).prop("disabled", !0);
                    $(this).html();
                    $(this).html("Yükleniyor"), false
                }
                t.preventDefault()
            });
            var o = 0;
            $("body").off("change", ".fnc_addWatch input:checkbox").on("change", ".fnc_addWatch input:checkbox", function () {
                if ($("#h_user_data").length < 0) return !1;
                var t = $(this).parents(".fnc_addWatch").data("episode"), e = $(this);
                t && false
            }), checkepisodesofthisSeason($("#seasons-menu .active")), $("body").off("click", "#seasons-menu > .menu > a").on("click", "#seasons-menu > .menu > a", function () {
                var t = $(this).data("season");
                $("#season-episode-list-title > span").text(t), checkepisodesofthisSeason($(this))
            }), $("body").off("change", "#autoplay").on("change", "#autoplay", function () {
                var t;
                t = $(this).is(":checked") ? "checked" : "", false
            }), $("body").off("click", ".cl_add_item").on("click", ".cl_add_item", function (t) {
                t.preventDefault();
                var e = $(this).data("clid"), a = $(this).data("series");
                e && a && false
            });
            var i = 0;
            $("body").off("click", ".fnc_allofthisSeason").on("click", ".fnc_allofthisSeason", function () {
                if ($("#h_user_data").length < 0) return !1;
                var t = $(this).data("series"), e = $(".season-list-column .active").data("season");
                if ($("input[name='all-episodes']").is(":disabled")) return !1;
                if (t && e) {
                    var a = $("input[name='all-episodes']").is(":checked");
                    false
                } else getNotification("error", "Bölüm yok")
            }), $("body").off("click touchstart", "[data-clap]").on("click touchstart", "[data-clap]", function (t) {
                t.preventDefault();
                var e = $(this), a = $(this).data("clap"), o = $(".clap-count").text();
                a && (e.prop("disabled", !0), false)
            }), $("body").off("click", ".fnc_addFeel").on("click", ".fnc_addFeel", function (t) {
                t.preventDefault();
                var e = $(this).attr("data-id"), a = $(this).attr("data-type"), o = $(this).attr("data-status"),
                    i = $(this), n = $("span", this).text(), s = $(this).attr("data-comment");
                e && a && (i.prop("disabled", !0), false)
            }), $("body").off("click", ".reply-link").on("click", ".reply-link", function (t) {
                t.preventDefault();
                var e = $(this).attr("data-comment"), a = $("span", this), o = $.trim(a.text()),
                    i = $(".review-reply[data-comment=" + e + "]"),
                    n = $(".review-reply[data-comment=" + e + "] .fnc_commentReply"), s = n.html(),
                    r = $(".review-reply[data-comment=" + e + "] .replyCommentData");
                o = o.match(/(\d+)/gi), i.show(), r.focus(), $("body").off("submit", ".review-reply[data-comment=" + e + "]").on("submit", ".review-reply[data-comment=" + e + "]", function (t) {
                    t.preventDefault();
                    var i = $(".review-reply[data-comment=" + e + "]").data("ctype"),
                        l = $(".review-reply[data-comment=" + e + "]").data("series"),
                        c = $(".review-reply[data-comment=" + e + "]").data("episode"),
                        d = $(".review-reply[data-comment=" + e + "]").data("forum"), u = r.val();
                    n.prop("disabled", !0), r.prop("disabled", !0), n.text("Yükleniyor");
                    u && e && false
                }), event.preventDefault()
            });
            $("body").off("click", "[data-delete]").on("click", "[data-delete]", deleteComment), $("body").off("click", "[data-spoiler]").on("click", "[data-spoiler]", spoilerComment), $("body").off("click touchstart", ".fnc_followUser").on("click touchstart", ".fnc_followUser", function () {
                var t = $(this).data("userid");
                if (t) {
                    var e = $(this), a = e.html(), o = "error";
                    e.prop("disabled", !0), e.html("Yükleniyor..."), false
                }
            }), $("body").off("click", "#audioOptionSet").on("click", "#audioOptionSet", function (t) {
                t.preventDefault(), t.stopPropagation();
                window.location.pathname;
                var e = $(this).attr("href"), a = $(this).data("changeto"), o = Math.floor(Date.now() / 1e3);
                false
            }), $("body").off("click touchstart", "#room-settings").on("click touchstart", "#room-settings", function (t) {
                $("title").text();
                var e = window.location.pathname, a = $(".playing-now .poster-xxs h2").text(),
                    o = $(".playing-now .poster-xxs span").text();
            }), $("body").off("click touchstart", "#add-participants").on("click touchstart", "#add-participants", function (t) {
                $("title").text();
                var e = window.location.pathname;
                $(".playing-now .poster-xxs h2").text(), $(".playing-now .poster-xxs span").text();
                $("body").off("input", "#search-for-room").on("input", "#search-for-room", function () {
                    var t = $("input", this).val(), e = null;
                    $("#results-for-room").html(""), e = $.ajax({
                        type: "POST",
                        url: "/search?json=1&q=" + t,
                        dataType: "json",
                        data: {},
                        beforeSend: function () {
                            null != e && (e.abort(), $("#results-for-room").html(""))
                        },
                        success: function (t) {
                            if (t) if (t.success) {
                                if (!t.type) {
                                    var e = JSON.parse($("#addtoroom").val()), a = "";
                                    $.each(t.data.result, function (t, o) {
                                        null != o.s_type && (a += '<div class="item" style="display:flex;-webkit-flex-align: center;-ms-flex-align: center;-webkit-align-items: center;align-items: center;"><img class="ui avatar image" src="uploads/series/' + o.s_image + '"><div class="content truncate" style="flex:1;">' + o.s_name + "</div>" + (inArray(o.s_id, e) ? '<button class="ui button addRoom primary" data-series="' + o.s_id + '">Eklendi</button>' : '<button class="ui button addRoom" data-series="' + o.s_id + '">Ekle</button>') + "</div>")
                                    }), $("#results-for-room").html(a)
                                }
                            } else $("#results-for-room").html("<p>" + t.error + "</p>")
                        },
                        complete: function () {
                            $("body").off("click", ".addRoom").on("click", ".addRoom", function () {
                                var t = JSON.parse($("#addtoroom").val()), e = $(this).text(),
                                    a = $(this).data("series");
                                $(this).toggleClass("primary").text("Eklendi" == e ? "Ekle" : "Eklendi"), "Eklendi" == e ? t.splice(t.indexOf(a), 1) : t.push(a), $("#addtoroom").val(JSON.stringify(t))
                            })
                        }
                    })
                })
            }), $("body").off("click touchstart", "#newCollection").on("click touchstart", "#newCollection", function (t) {
                var e = $("title").text(), a = window.location.pathname;
                $("body").off("input", "#search-for-collection").on("input", "#search-for-collection", function () {
                    var t = $("input", this).val(), e = null;
                    $("#results-for-collection").html(""), e = $.ajax({
                        type: "POST",
                        url: "/search?json=1&q=" + t,
                        dataType: "json",
                        data: {},
                        beforeSend: function () {
                            null != e && (e.abort(), $("#results-for-collection").html(""))
                        },
                        success: function (t) {
                            if (t) if (t.success) {
                                if (!t.type) {
                                    var e = JSON.parse($("#addtocollection").val()), a = "";
                                    $.each(t.data.result, function (t, o) {
                                        null != o.s_type && (a += '<div class="item" style="display:flex;-webkit-flex-align: center;-ms-flex-align: center;-webkit-align-items: center;align-items: center;"><img class="ui avatar image" src="uploads/series/' + o.s_image + '"><div class="content truncate" style="flex:1;">' + o.s_name + "</div>" + (inArray(o.s_id, e) ? '<button class="ui button addCollection primary" data-series="' + o.s_id + '">Eklendi</button>' : '<button class="ui button addCollection" data-series="' + o.s_id + '">Ekle</button>') + "</div>")
                                    }), $("#results-for-collection").html(a)
                                }
                            } else $("#results-for-collection").html("<p>" + t.error + "</p>")
                        },
                        complete: function () {
                            $("body").off("click", ".addCollection").on("click", ".addCollection", function () {
                                var t = JSON.parse($("#addtocollection").val()), e = $(this).text(),
                                    a = $(this).data("series");
                                $(this).toggleClass("primary").text("Eklendi" == e ? "Ekle" : "Eklendi"), "Eklendi" == e ? t.splice(t.indexOf(a), 1) : t.push(a), $("#addtocollection").val(JSON.stringify(t))
                            })
                        }
                    })
                })
            }), $(document).off("change", 'input[type="file"]').on("change", 'input[type="file"]', function (t) {
                var e = $(this).val(), a = e.replace(/^.*\./, "");
                switch (a = a == e ? "" : a.toLowerCase()) {
                    case"jpg":
                    case"jpeg":
                    case"png":
                        break;
                    default:
                        false
                }
            }), $(document).off("submit", ".profile_settings").on("submit", ".profile_settings", function (t) {
                t.preventDefault();
                var e = $(this).serialize() + "&type=saveSetting", a = $(this), o = $("button.primary", a),
                    i = $("button.primary", a).text(), n = $("title").text(), s = window.location.pathname,
                    r = (new Date).getTime();
                e ? ($("input,textarea,button", a).prop("disabled", !0), o.text("Yükleniyor..."), false) : getNotification("error", "Lütfen gerekli yerleri boş bırakmayın !")
            }), $(document).off("submit", ".change_social").on("submit", ".change_social", function (t) {
                t.preventDefault();
                var e = $(this).serialize() + "&type=saveSocial", a = $(this), o = $("button.primary", a),
                    i = $("button.primary", a).text(), n = $("title").text(), s = window.location.pathname,
                    r = (new Date).getTime();
                e ? ($("input,textarea,button", a).prop("disabled", !0), o.text("Yükleniyor..."), false) : getNotification("error", "Lütfen gerekli yerleri boş bırakmayın !")
            }), $(document).off("submit", "#change_pass").on("submit", "#change_pass", function (t) {
                t.preventDefault();
                var e = $(this).serialize() + "&type=changePass", a = $(this), o = $("button.primary", a),
                    i = $("button.primary", a).text(), n = $("title").text(), s = window.location.pathname,
                    r = (new Date).getTime();
                e ? ($("input,textarea,button", a).prop("disabled", !0), o.text("Yükleniyor..."), false) : getNotification("error", "Lütfen gerekli yerleri boş bırakmayın !")
            }), $("body").off("click", "[data-favorite]").on("click", "[data-favorite]", function (t) {
                var e, a = $(this).data("fid"), o = $(this);
                e = false
            }), $("body").off("click", "[data-vote]").on("click", "[data-vote]", function (t) {
                var e, a = $(this).data("fid"), o = $(this).data("vote"), i = $(this),
                    n = $(this).parent().children(".story-vote-count");
                e = false
            }), $("body").off("click", "[data-bbcode]").on("click", "[data-bbcode]", function () {
                var t = $("[data-editor]"), e = t.val(), a = getInputSelection(t);
                a.length > 0 ? t.val(e.replace(a, "[" + $(this).attr("data-bbcode") + "]" + a + "[/" + $(this).attr("data-bbcode") + "]")) : t.val(e + "[" + $(this).attr("data-bbcode") + "][/" + $(this).attr("data-bbcode") + "]"), t.focus()
            }), $("body").off("submit", "[data-newtopic]").on("submit", "[data-newtopic]", function (t) {
                t.preventDefault();
                var e = $("#subject", this).val(), a = $("#series", this).val(), o = $("#message", this).val(),
                    i = ($("#spoiler", this).is(":checked"), $("title").text()), n = window.location.pathname;
                e && a && o ? false : getNotification("error", "Tüm alanları doldurman gerekiyor!")
            }), $("body").off("submit", "[data-edittopic]").on("submit", "[data-edittopic]", function (t) {
                t.preventDefault();
                var e = $("#subject", this).val(), a = $("#message", this).val(),
                    o = ($("#spoiler", this).is(":checked"), $("title").text()), i = window.location.pathname;
                e && a ? false : getNotification("error", "Tüm alanları doldurman gerekiyor!")
            }), $("body").off("click", "[data-flock]").on("click", "[data-flock]", function (t) {
                t.preventDefault();
                var e = $(this).data("flock"), a = $("title").text(), o = window.location.pathname;
                e ? false : getNotification("error", "Tüm alanları doldurman gerekiyor!")
            }), $("body").off("click", "[data-fdelete]").on("click", "[data-fdelete]", function (t) {
                t.preventDefault();
                var e = $(this).data("fdelete"), a = $("title").text(), o = window.location.pathname;
                e ? false : getNotification("error", "Tüm alanları doldurman gerekiyor!")
            }), $("body").off("click touchstart", "#watch_together_trigger").on("click touchstart", "#watch_together_trigger", function (t) {
                t.preventDefault();
                var e = $(this).data("e_id"), a = $("title").text(), o = window.location.pathname;
            })
        }
        $(document).off("submit", "#lost_pass").on("submit", "#lost_pass", function (t) {
            t.preventDefault();
            var e = $(this).serialize() + "&type=lostPass", a = $(this), o = $(this).find("#pass").val(),
                i = $("button.primary", a), n = $("button.primary", a).text(), s = $("title").text(),
                r = window.location.pathname;
            o ? ($("input,textarea,button", a).prop("disabled", !0), i.text("Yükleniyor..."), false) : getNotification("error", "Lütfen, yeni şifrenizi yazınız !")
        }), $("body").off("click touchstart", "#tv-show-more").on("click touchstart", "#tv-show-more", function (t) {
            t.preventDefault(), $(this).hide(), $("span.tv-more").show()
        }), $("body").off("click", ".series-load-more").on("click", ".series-load-more", function (e) {
            e.preventDefault();
            var a = $(this), o = $(this).attr("data-page"), i = parseInt(o) + 1, n = $(this).html();
            $(this).html("Yükleniyor"), $(this).prop("disabled", !0), false
        }), $("body").off("click", ".comments-load-more").on("click", ".comments-load-more", function (t) {
            t.preventDefault();
            var e = $(this), a = $(this).attr("data-page"), o = $(this).attr("data-episode"),
                i = $(this).attr("data-series"), n = $(this).attr("data-collection"), s = $(this).attr("data-forum"),
                r = parseInt(a) + 1, l = $(this).html();
            $(this).html("Yükleniyor"), $(this).prop("disabled", !0), false
        });
        $().modal && $("body").off("click", "[data-yt]").on("click", "[data-yt]", function (t) {
            t.preventDefault();
            var e = $(this).attr("data-yt"), a = $(this).data("link"), o = $(this).data("film");
            $("#wrapper").append('\n\t\t\t<div class="ui modal" id="fragman">\n\t\t\t\t<i class="close icon"></i>\n\t\t\t\t<div class="image content">\n\t\t\t\t\t<div class="image">\n\t\t\t\t\t\t<iframe width="100%" height="480" frameborder="0" title="fragman izle" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t');
            var i = "Bu sezon başladı: Şimdi izle!";
            o && (i = "Bu film yayında. Hemen izle!"), a && ($(".ui.modal").prepend('<a href="' + a + '" class="ui red button close" id="watch-nowinside">' + i + "</a>"), router.updatePageLinks()), $("#fragman iframe").attr("src", "https://www.youtube.com/embed/" + e + "?autoplay=1&rel=0"), $("#fragman").modal({
                onHide: function () {
                    $("#fragman iframe").attr("src", "")
                }, onHidden: function () {
                    $("#fragman").remove()
                }
            }).modal("show"), $("#fragman").focus()
        }), $("body").off("click", ".replies-load-more").on("click", ".replies-load-more", function (t) {
            t.preventDefault();
            var e = $(this), a = $(this).attr("data-page"), o = $(this).attr("data-episode"),
                i = $(this).attr("data-type"), n = $(this).attr("data-comment"), s = parseInt(a) + 1,
                r = $(this).html();
            $(this).html("Yükleniyor"), $(this).prop("disabled", !0), false
        }), $("body").off("click", ".review-content-spoiler p").on("click", ".review-content-spoiler p", function () {
            $(this).parents(".spoiler").removeClass("spoiler"), $(this).parent().fadeOut(100)
        }), $("body").off("click", ".alert-spoiler").on("click", ".alert-spoiler", function (t) {
            $(this).hide(), $(this).next().show()
        }), $("body").off("click", "[data-link]").on("click", "[data-link]", function (t) {
            t.preventDefault();
            var e = $(this).data("link"), a = $(this).data("hash"), o = $(this).data("querytype"), i = $(this),
                n = window.location.pathname;
            if (i.hasClass("active")) return !1;
            a && ($(".player").html(""), false)
        })
    }, t.FormEvents = function () {
        ($("body").on("submit", "#login-form", function (t) {
            t.preventDefault();
            var e = $(this), a = $('button[type="submit"]', this), o = a.html(), i = e.serialize(), n = !0;
            a.html("Yükleniyor..."), $.each($("input[name]", e), function (t, e) {
                "" == $(this).val() && (n = !1)
            }), n ? false : (getNotification("error", "Lütfen tüm bilgileri eksiksiz girin."), a.prop("disabled", !1), a.html(o))
        }), $("body").off("click touchstart", "#signup").on("click touchstart", "#signup", function (t) {
            "https://yabancidizi.org/login" != $(this).attr("href") && (t.preventDefault(), $('#login-form input[name="type"]').val("register"), $('#login-form button[type="submit"]').text("Kayıt Ol"), $(".login-wrapper #signup").attr("href", location.protocol + "//" + location.host + "/login").html("<span>Giriş Yap</span>"), $("#login-form [hidden]").attr("name", $(this).attr("id")), $("#login-form #email").attr("name", $("#login-form #email").attr("id")), $("#login-form #password_try").attr("name", $("#login-form #password_try").attr("id")), $("#login-form [hidden]").prop("required", !0), $("#login-form [hidden]").prop("hidden", !1))
        }), $("body").off("click", "#reset-password").on("click", "#reset-password", function (t) {
            t.preventDefault()
        }), window.location.hash) && ("signup" == window.location.hash.substring(1) && ($('#login-form input[name="type"]').val("register"), $('#login-form button[type="submit"]').text("Kayıt Ol"), $(".login-wrapper #signup").attr("href", location.protocol + "//" + location.host + "/login").html("<span>Giriş Yap</span>"), $("#login-form [hidden]").attr("name", $(this).attr("id")), $("#login-form #email").attr("name", $("#login-form #email").attr("id")), $("#login-form #password_try").attr("name", $("#login-form #password_try").attr("id")), $("#login-form [hidden]").prop("required", !0), $("#login-form [hidden]").prop("hidden", !1)))
    }, t.WidgetEvents = function () {
        var t = $("#sortable")[0], e = null;
        t && dragula([t], {removeOnSpill: !0}), $(document).off("click touchstart").on("click touchstart", function (t) {
            $("#search-results").hide()
        }), $(document).off("click touchstart", "#search-results").on("click touchstart", "#search-results", function (t) {
            t.stopPropagation()
        }), $(document).off("input", "#tvSearch").on("input", "#tvSearch", function (t) {
            t.preventDefault();
            var a = $(this);
            clearTimeout(e), $(this).parent().children(".deleteicon").show(), "" == $(this).val() && $(this).parent().children(".deleteicon").hide(), $("body").off("click", "#search-response a").on("click", "#search-response a", function (t) {
                a.val(""), a.parent().children(".deleteicon").hide()
            });
            var o = $(this).val(), i = "", n = "", s = "", r = "", l = "", c = "/search?json=1&q=" + o, d = 1e3;
            $("#h_user_data").length > 0 && (c = "/search_n?json=1&q=" + o, d = 500), o && o.length >= 3 ? e = setTimeout(function () {
                $("#search-results").show(), window.currentSearch = $.ajax({
                    type: "GET", url: c, dataType: "json", data: {}, beforeSend: function (t) {
                        0 != window.currentSearch && (window.currentSearch.abort(), window.currentSearch = !1)
                    }, success: function (t) {
                        window.currentSearch = !1, t && (1 ? ($.each(t.movies, function (t, e) {
                            void (n += '<li class="segment-poster"><div class="poster poster-md"><div class="poster-media"><a href="' + e.url + '"><img src="' + e.poster + '"></a></div><div class="poster-subject"><a href="' + e.url + '"><h2 class="truncate">' + e.title + '</h2></a><p class="poster-meta truncate"><span class="genres">' + e.year + "</span></p></div></div></li>"), void 0 !== e.s_type && "0" == e.s_type && (i += '<li class="segment-poster-sm"><div class="poster poster-xs"><a href="dizi/' + e.s_link + '"><div class="poster-subject"><h2 class="truncate">' + e.s_name + '</h2></div><img alt="..." class="lazy-wide loaded" src="/uploads/series/cover/' + e.s_image + '" data-src="/uploads/series/cover/' + e.s_image + '"></a></div></li>'), void 0 !== e.u_id && "" != e.u_id && (l += '<li><a href="profil/' + e.u_username + '">' + ("avatar.jpg" == e.u_avatar ? '<img src="https://api.adorable.io/avatars/285/' + e.u_username + '">' : '<img src="/uploads/users/' + e.u_avatar + '">') + "<span>" + (e.u_name ? '<h6 class="truncate">' + e.u_name + "</h6>" : '<h6 class="truncate">@' + e.u_username + "</h6>") + (e.u_name ? '<small class="truncate">@' + e.u_username + "</small>" : "") + "</span></a></li>"), void 0 !== e.c_id && "" != e.c_id && (r += '<li><a href="oyuncu/' + e.cast_link + '"><img src="/uploads/cast/' + e.cast_image + '"><h6 class="truncate">' + e.cast_name + "</h6></a></li>")
                        }), "" != i && (s += '<div class="dark-segment"><ul class="clearfix" style="flex-wrap: wrap;">' + i + "</ul></div>"), "" != n && (s += '<div class="dark-segment"><ul class="clearfix" style="flex-wrap: wrap;">' + n + "</ul></div>"), "" != r && (s += '<div class="actor-list"><ul style="flex-wrap: wrap;">' + r + "</ul></div>"), "" != l && (s += '<div class="actor-list"><ul style="flex-wrap: wrap;">' + l + "</ul></div>"), $("#search-response").html(s)) : $("#search-response").html('<div class="alert alert-danger ml-md mr-md mb-md" role="alert"><p>Belirttiğin kriterlere uygun hiç sonuç bulamadık.</p></div>'))
                    }, complete: function () {
                        router.updatePageLinks()
                    }
                })
            }, d) : ($("#search-response").html(""), $("#search-results").hide())
        }), $(document).off("click touchstart", ".deleteicon").on("click touchstart", ".deleteicon", function () {
            $("#tvSearch").val("").focus(), "" == $("#tvSearch").val() && $(this).hide()
        }), $(document).off("click touchstart", "#tvSearch").on("click touchstart", "#tvSearch", function (t) {
            t.stopPropagation(), "" != $(this).val() && $(this).val().length >= 2 && $("#search-results").show()
        }), $.fn.circle_progress = function () {
            $.each(this, function () {
                return $(this).html('<svg version="1.1" viewBox="0 0 100 100">\t\t\t\t\t<circle class="ring" cx="-48" cy="48" fill-opacity="0" r="46" stroke-dashoffset="293" stroke-dasharray="' + ($(this).attr("data-percent") / 100 * 293 + 293) + '" transform="rotate(-90)"></circle>\t\t\t\t\t</svg>')
            })
        };
        var a = $(".circle-progress");
        a.length && a.circle_progress()
    }, t.BaseEvents = function () {
        $(".mobile-menu-trigger").off("click").on("click", function (t) {
            t.stopPropagation(), $("#primary-sidebar, #wrapper, .triggered-overlay, body").addClass("triggered"), $("#sidebar-inner").focus(), $("[data-navigo]").off("click").on("click", function () {
                $("#primary-sidebar, #wrapper, .triggered-overlay, body").removeClass("triggered")
            }), $(".triggered-overlay.triggered").off("click").on("click", function (t) {
                $("#primary-sidebar, #wrapper, .triggered-overlay, body").removeClass("triggered")
            })
        }), $("#trigger-filter-sidebar").off("touchstart").on("touchstart", function (t) {
            t.preventDefault(), $("#filter-sidebar").toggleClass("active")
        });
        var t = $("a[rel*=external]"), e = $("a[rel*=nofollow]").not("a[href^='kesfet']");
        t.off("click").on("click", function (t) {
            return t.stopPropagation(), t.preventDefault(), window.open(this.href), !1
        }), e.off("click").on("click", function (t) {
            return t.stopPropagation(), t.preventDefault(), window.open(this.href), !1
        }), $("#scroll-notifications").scrollbar({debug: !1}), -1 !== window.location.pathname.indexOf("/kesfet")
    };
    var e = function (t, e) {
        return '<div class="alert alert-' + e + '" role="alert">' + t + "</div>"
    }, a = $("#room_status").val();
    "" != a && ($("#chatbox-scroll, #sidebar-inner").scrollbar({debug: !1}), $("#chatbox-scroll").length > 0 && $("#chatbox-scroll").scrollTop($("#chatbox-scroll")[0].scrollHeight), "done" == a && ($("body").addClass("full-body"), $("#primary-sidebar").hide(), $(".footer").hide()), "no_login" == a && ($("body").addClass("full-body"), $("#primary-sidebar").show(), $(".footer").hide()), "no_episode" == a ? ($("body").addClass("full-body"), $(".footer").hide(), $(".wt-box .playing-now .poster-container").hide(), $(".player.room-player").append('<div class="room-settings-overlay"><div class="room-introducing">\t<svg class="mofycon"><use xlink:href="#icon-watch-together-huge"></use></svg>\t<h1>Birlikte İzle</h1>\t<p>Sevgilinle, arkadaşlarınla yada herhangi bir takipçinle birlikte film veya dizi izle, eş zamanlı olarak sohbet et!</p>\t<a href="kesfet" class="ui primary button">Keşfet</a></div></div>'), $(".player video").remove(), $("#router-view").removeClass("loading")) : "not_a_participant" == a && ($("#router-view").html(e("Bu odaya erişim iznin yok. Odaya girebilmen için davetiyeye ihtiyacın var.", "danger")), $("#router-view").removeClass("loading")));
    var o = window.location.pathname;
    o = "/" == o ? o : o.substr(1), $(".guide-icon-menu").find("li").each(function () {
        $("a", this).attr("href") != o && $(this).parent().find(".menu-submenu").hide(), $(this).toggleClass("active", $("a", this).attr("href") == o)
    }), "series" == $("#router").data("page") ? "film" == $("#router").data("meth") && movies_view() : "series_detail" == $("#router").data("page") && series_view(), "profile" == $("#router").data("page") && profile_view();
    var i = function (a) {false};
    t.init()
}();